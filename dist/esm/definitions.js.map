{"version":3,"file":"definitions.js","sourceRoot":"","sources":["../../src/definitions.ts"],"names":[],"mappings":"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","sourcesContent":["export interface FacebookAppEventsPlugin {\r\n  initialize(options: FacebookInitializeOptions): Promise<void>;\r\n  isInitialized(): Promise<{ initialized: boolean }>;\r\n  logEvent(options: LogEventOptions): Promise<void>;\r\n}\r\n\r\nexport interface FacebookInitializeOptions {\r\n  appId: string;\r\n  clientToken: string;\r\n}\r\n\r\nexport interface LogEventOptions {\r\n  eventName: FacebookEventName;\r\n  valueToSum?: number;\r\n  parameters?: FacebookEventParams & Record<string, any>;\r\n}\r\n\r\n// ========================================\r\n// Facebook标准事件定义\r\n// ========================================\r\n\r\nexport enum FacebookStandardEvents {\r\n  ACTIVATED_APP = 'fb_mobile_activate_app',\r\n  DEACTIVATED_APP = 'fb_mobile_deactivate_app',\r\n  SESSION_INTERRUPTIONS = 'fb_mobile_app_interruptions',\r\n  TIME_BETWEEN_SESSIONS = 'fb_mobile_time_between_sessions',\r\n  COMPLETED_REGISTRATION = 'fb_mobile_complete_registration',\r\n  VIEWED_CONTENT = 'fb_mobile_content_view',\r\n  SEARCHED = 'fb_mobile_search',\r\n  RATED = 'fb_mobile_rate',\r\n  COMPLETED_TUTORIAL = 'fb_mobile_tutorial_completion',\r\n  PUSH_TOKEN_OBTAINED = 'fb_mobile_obtain_push_token',\r\n\r\n  // Ecommerce\r\n  ADDED_TO_CART = 'fb_mobile_add_to_cart',\r\n  ADDED_TO_WISHLIST = 'fb_mobile_add_to_wishlist',\r\n  INITIATED_CHECKOUT = 'fb_mobile_initiated_checkout',\r\n  ADDED_PAYMENT_INFO = 'fb_mobile_add_payment_info',\r\n  PURCHASED = 'fb_mobile_purchase',\r\n\r\n  // Gaming\r\n  ACHIEVED_LEVEL = 'fb_mobile_level_achieved',\r\n  UNLOCKED_ACHIEVEMENT = 'fb_mobile_achievement_unlocked',\r\n  SPENT_CREDITS = 'fb_mobile_spent_credits',\r\n\r\n  // Business\r\n  CONTACT = 'Contact',\r\n  CUSTOMIZE_PRODUCT = 'CustomizeProduct',\r\n  DONATE = 'Donate',\r\n  FIND_LOCATION = 'FindLocation',\r\n  SCHEDULE = 'Schedule',\r\n  START_TRIAL = 'StartTrial',\r\n  SUBMIT_APPLICATION = 'SubmitApplication',\r\n  SUBSCRIBE = 'Subscribe',\r\n\r\n  // Ads\r\n  AD_IMPRESSION = 'AdImpression',\r\n  AD_CLICK = 'AdClick',\r\n\r\n  // Live streaming\r\n  LIVE_STREAMING_START = 'fb_sdk_live_streaming_start',\r\n  LIVE_STREAMING_STOP = 'fb_sdk_live_streaming_stop',\r\n  LIVE_STREAMING_PAUSE = 'fb_sdk_live_streaming_pause',\r\n  LIVE_STREAMING_RESUME = 'fb_sdk_live_streaming_resume',\r\n  LIVE_STREAMING_ERROR = 'fb_sdk_live_streaming_error',\r\n  LIVE_STREAMING_UPDATE_STATUS = 'fb_sdk_live_streaming_update_status',\r\n\r\n  // Product Catalog\r\n  PRODUCT_CATALOG_UPDATE = 'fb_mobile_catalog_update',\r\n}\r\n\r\nexport type FacebookEventName = FacebookStandardEvents | (string & {});\r\n\r\nexport interface FacebookEventParams {\r\n  // Live streaming\r\n  live_streaming_prev_status?: string;\r\n  live_streaming_status?: string;\r\n  live_streaming_error?: string;\r\n\r\n  // Common\r\n  fb_currency?: string;\r\n  fb_registration_method?: string;\r\n  fb_content_type?: string;\r\n  fb_content?: string;\r\n  fb_content_id?: string;\r\n  fb_search_string?: string;\r\n  fb_success?: '1' | '0';\r\n  fb_max_rating_value?: string;\r\n  fb_payment_info_available?: '1' | '0';\r\n  fb_num_items?: number;\r\n  fb_level?: string;\r\n  fb_description?: string;\r\n  fb_mobile_launch_source?: string;\r\n  fb_mobile_pckg_fp?: string;\r\n  fb_mobile_app_cert_hash?: string;\r\n  _valueToSum?: number;\r\n\r\n  // Ad\r\n  ad_type?: string;\r\n\r\n  // Subscription\r\n  fb_order_id?: string;\r\n\r\n  // Product catalog\r\n  fb_product_custom_label_0?: string;\r\n  fb_product_custom_label_1?: string;\r\n  fb_product_custom_label_2?: string;\r\n  fb_product_custom_label_3?: string;\r\n  fb_product_custom_label_4?: string;\r\n  fb_product_category?: string;\r\n\r\n  fb_product_applink_ios_url?: string;\r\n  fb_product_applink_ios_app_store_id?: string;\r\n  fb_product_applink_ios_app_name?: string;\r\n\r\n  fb_product_applink_iphone_url?: string;\r\n  fb_product_applink_iphone_app_store_id?: string;\r\n  fb_product_applink_iphone_app_name?: string;\r\n\r\n  fb_product_applink_ipad_url?: string;\r\n  fb_product_applink_ipad_app_store_id?: string;\r\n  fb_product_applink_ipad_app_name?: string;\r\n\r\n  fb_product_applink_android_url?: string;\r\n  fb_product_applink_android_package?: string;\r\n  fb_product_applink_android_app_name?: string;\r\n\r\n  fb_product_applink_windows_phone_url?: string;\r\n  fb_product_applink_windows_phone_app_id?: string;\r\n  fb_product_applink_windows_phone_app_name?: string;\r\n}\r\n\r\nexport class FacebookEventBuilder {\r\n  static activateApp(): LogEventOptions {\r\n    return {\r\n      eventName: FacebookStandardEvents.ACTIVATED_APP,\r\n    };\r\n  }\r\n\r\n  static completeRegistration(method: string): LogEventOptions {\r\n    return {\r\n      eventName: FacebookStandardEvents.COMPLETED_REGISTRATION,\r\n      parameters: {\r\n        fb_registration_method: method,\r\n      },\r\n    };\r\n  }\r\n\r\n  static viewContent(params: {\r\n    valueToSum?: number;\r\n    fb_content_type?: string;\r\n    fb_content_id?: string;\r\n    fb_content?: string;\r\n    fb_currency?: string;\r\n  }): LogEventOptions {\r\n    const { valueToSum, ...parameters } = params;\r\n    return {\r\n      eventName: FacebookStandardEvents.VIEWED_CONTENT,\r\n      valueToSum,\r\n      parameters,\r\n    };\r\n  }\r\n\r\n  static addToCart(params: {\r\n    valueToSum: number;\r\n    fb_content_type?: string;\r\n    fb_content_id?: string;\r\n    fb_content?: string;\r\n    fb_currency?: string;\r\n  }): LogEventOptions {\r\n    const { valueToSum, ...parameters } = params;\r\n    return {\r\n      eventName: FacebookStandardEvents.ADDED_TO_CART,\r\n      valueToSum,\r\n      parameters,\r\n    };\r\n  }\r\n\r\n  static rate(params: {\r\n    valueToSum: number;\r\n    fb_content_type?: string;\r\n    fb_content_id?: string;\r\n    fb_content?: string;\r\n    fb_max_rating_value?: string;\r\n  }): LogEventOptions {\r\n    const { valueToSum, ...parameters } = params;\r\n    return {\r\n      eventName: FacebookStandardEvents.RATED,\r\n      valueToSum,\r\n      parameters,\r\n    };\r\n  }\r\n\r\n  static initiateCheckout(params: {\r\n    valueToSum: number;\r\n    fb_currency?: string;\r\n    fb_num_items?: number;\r\n    fb_content_type?: string;\r\n    fb_content_id?: string;\r\n    fb_content?: string;\r\n    fb_payment_info_available?: '1' | '0';\r\n  }): LogEventOptions {\r\n    const { valueToSum, ...parameters } = params;\r\n    return {\r\n      eventName: FacebookStandardEvents.INITIATED_CHECKOUT,\r\n      valueToSum,\r\n      parameters,\r\n    };\r\n  }\r\n\r\n  static purchase(params: {\r\n    valueToSum: number;\r\n    fb_currency?: string;\r\n    fb_num_items?: number;\r\n    fb_content_type?: string;\r\n    fb_content_id?: string;\r\n    fb_content?: string;\r\n  }): LogEventOptions {\r\n    const { valueToSum, ...parameters } = params;\r\n    return {\r\n      eventName: FacebookStandardEvents.PURCHASED,\r\n      valueToSum,\r\n      parameters,\r\n    };\r\n  }\r\n\r\n  static search(params: {\r\n    fb_search_string: string;\r\n    fb_content_type?: string;\r\n    fb_success?: '1' | '0';\r\n  }): LogEventOptions {\r\n    return {\r\n      eventName: FacebookStandardEvents.SEARCHED,\r\n      parameters: params,\r\n    };\r\n  }\r\n\r\n  static subscribe(params: { valueToSum: number; fb_order_id: string; fb_currency?: string }): LogEventOptions {\r\n    const { valueToSum, ...parameters } = params;\r\n    return {\r\n      eventName: FacebookStandardEvents.SUBSCRIBE,\r\n      valueToSum,\r\n      parameters,\r\n    };\r\n  }\r\n\r\n  static startTrial(params: { valueToSum: number; fb_order_id: string; fb_currency?: string }): LogEventOptions {\r\n    const { valueToSum, ...parameters } = params;\r\n    return {\r\n      eventName: FacebookStandardEvents.START_TRIAL,\r\n      valueToSum,\r\n      parameters,\r\n    };\r\n  }\r\n\r\n  static unlockAchievement(description: string): LogEventOptions {\r\n    return {\r\n      eventName: FacebookStandardEvents.UNLOCKED_ACHIEVEMENT,\r\n      parameters: {\r\n        fb_description: description,\r\n      },\r\n    };\r\n  }\r\n\r\n  static achieveLevel(level: string): LogEventOptions {\r\n    return {\r\n      eventName: FacebookStandardEvents.ACHIEVED_LEVEL,\r\n      parameters: {\r\n        fb_level: level,\r\n      },\r\n    };\r\n  }\r\n\r\n  static adImpression(params?: { valueToSum?: number; ad_type?: string }): LogEventOptions {\r\n    const { valueToSum, ...parameters } = params || {};\r\n    return {\r\n      eventName: FacebookStandardEvents.AD_IMPRESSION,\r\n      valueToSum,\r\n      parameters,\r\n    };\r\n  }\r\n\r\n  static contact(): LogEventOptions {\r\n    return {\r\n      eventName: FacebookStandardEvents.CONTACT,\r\n    };\r\n  }\r\n\r\n  static custom(\r\n    name: string,\r\n    options?: {\r\n      valueToSum?: number;\r\n      parameters?: Record<string, any>;\r\n    },\r\n  ): LogEventOptions {\r\n    return {\r\n      eventName: name,\r\n      valueToSum: options?.valueToSum,\r\n      parameters: options?.parameters,\r\n    };\r\n  }\r\n}\r\n"]}